"use strict";(self.webpackChunkworldify=self.webpackChunkworldify||[]).push([[517],{517:(e,s,n)=>{n.r(s),n.d(s,{render:()=>o});var a=n(401),r=n(338),i=n(797);function o(){i.PW.info({message:"Initializing login page",eventName:"login_page_initialization"}),window.Webflow&&window.Webflow.push((()=>{try{(0,r.EV)("login_form",t,g,c,!1)}catch(e){i.PW.error({message:"Error initializing login form: "+e.message,eventName:"login_initialization_error",extra:{}})}}))}function t(e){const s=new FormData;return s.append("email",e.get("email")),s.append("password",e.get("password")),s}async function g(e){const s=e.get("email"),n=e.get("password");if(!s||!n)return{success:!1,message:"Email and password are required."};try{const s=await fetch("https://xfa3-mghj-yd9n.n7c.xano.io/api:xhKh0vlR/auth/login",{method:"POST",body:e,headers:{}}),n=await s.json();if(s.ok)return i.PW.info({message:"Login request successful",eventName:"login_success",extra:{}}),{success:!0,message:"Login successful.",authToken:n.authToken};{const e=n.message||"Login failed due to unknown error";return i.PW.error({message:`Login request failed: ${e}`,eventName:"login_failed",extra:{}}),{success:!1,message:e}}}catch(e){return i.PW.error({message:"Error during login process: "+e.message,eventName:"login_exception",extra:{}}),{success:!1,message:e.message||"Error occurred during the login process"}}}async function c(e){e.success?((0,a.setCookie)(a.TOKEN_KEY,e.authToken),(0,a.redirectToDashboard)(),i.PW.info({message:"User logged in successfully",eventName:"user_login_success"})):i.PW.warning({message:"Login failed: "+e.message,eventName:"user_login_failed",extra:{}})}}}]);
//# sourceMappingURL=517.bundle.1.0.11.js.map