{"version":3,"file":"66.bundle.1.0.15.js","mappings":"yJAOAA,eAAeC,EAAoBC,EAAQC,GAEvC,MAAMC,GAAQ,IAAAC,WAAU,eAClBC,EAAW,IAAIC,SAErBD,EAASE,OAAO,UAAUN,GAC1BI,EAASE,OAAO,cAAcL,GAE9B,IAEI,MAAMM,QAAiBC,MAAM,4EAAyC,CAClEC,OAAQ,OACRC,QAAS,CACL,cAAiB,UAAYR,GAEjCS,KAAMP,IAIJQ,QAAaL,EAASM,OAG5B,OAAIN,EAASO,GACFF,GAIPG,QAAQC,MAAM,uCAAwCJ,EAAKK,SAAW,iBAC/D,KAEf,CAAE,MAAOD,GAGL,OADAD,QAAQC,MAAM,yBAA0BA,IACjC,CACX,CACJ,CAEOlB,eAAeoB,IAElB,IAG0BC,SAASC,cAAc,gCACvC,QAAc,gBAAgB,WAAW,CAAC,EAAErB,EAEtD,CAAE,MAAOiB,GAET,CACJ,C","sources":["webpack://worldify/./src/modules/pages/app/Visa/visa_finder.js"],"sourcesContent":["\nimport '@typeform/embed/build/css/widget.css';\nimport { attachDatePicker, get_tf_result, setupTypeform } from '../../../utils';\nimport { getAccountSettings, getCookie } from '../../../auth';\nimport { autoSaveFunction, debounce, fillFieldsFromDatabase } from '../../../form_handling';\n\n\nasync function submit_visa_results(form_id,response_id) {\n\n    const token = getCookie('wized_token');\n    const formData = new FormData ();\n\n    formData.append('form_id',form_id);\n    formData.append('response_id',response_id);\n\n    try {\n        // Make a GET request to the authentication endpoint with the token in the headers.\n        const response = await fetch(BASE_URL + '/typeform_submissions/visa', {\n            method: 'POST',\n            headers: {\n                'Authorization': 'Bearer ' + token\n            },\n            body: formData\n        });\n        \n        // Parse the response to JSON.\n        const data = await response.json();\n\n        // Check if the response status indicates success (e.g., 200 OK).\n        if (response.ok) {\n            return data;\n        } else {\n            // Log an error message if the token verification failed. \n            // Use the provided error message from the response or a default \"Unknown error\" message.\n            console.error('Retrival of Typform Response failed:', data.message || 'Unknown error');\n            return null;\n        }\n    } catch (error) {\n        // Log any errors that occurred during the token verification process.\n        console.error('Error verifying token:', error);\n        return false;\n    }\n}\n\nexport async function render () {\n\n    try {\n        // const slide1_externalData = document.querySelector('[w-el=\"slide1_externalData\"]');\n        // const slide2_reviewData = document.querySelector('[w-el=\"slide2_reviewData\"]');\n        const typeform_quiz = document.querySelector('[w-el=\"typeform_quiz\"]');\n        await setupTypeform(\"typeform_quiz\",\"CnTd15Nl\",{},submit_visa_results);\n\n    } catch (error) {\n        \n    }\n}"],"names":["async","submit_visa_results","form_id","response_id","token","getCookie","formData","FormData","append","response","fetch","method","headers","body","data","json","ok","console","error","message","render","document","querySelector"],"sourceRoot":""}